<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>5.4. Template</title><link rel="stylesheet" type="text/css" href="style.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"/><link rel="prev" href="ch05s03.xhtml" title="5.3. View"/><link rel="next" href="ch05s05.xhtml" title="5.5. Chamada de Eventos"/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">5.4. Template</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="ch05s03.xhtml">Prev</a> </td><th style="width: 60%; text-align: center; ">Chapter 5. Camada de Visão</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch05s05.xhtml">Next</a></td></tr></table><hr/></div></header><section class="sect1" id="sec_view_template"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.4. Template</h2></div></div></div>
		

		<div class="note"><h3 class="title">Note</h3>
			<p> Aqui será inserido o seguinte conteúdo:</p>
			<div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem">
			    <p>ToDo :  Mais detalhes sobre os arquivos .template.xml.</p>
			  </li><li class="listitem">
			    <p>ToDo :  Como templates podem receber atributos e tags filhas como parametros.</p>
			  </li><li class="listitem">
			    <p>ToDo :  A geracao de XSDs para bibliotecas de templates e como elas podem ser 
			        usadas em arquivos .view.xml, .crux.xml, ou mesmo em outros templates.</p>
			  </li><li class="listitem">
			    <p>ToDo :  Como um template poderia ser usado para montar um componente simples de forma declarativa.</p>
			  </li><li class="listitem">
			    <p>ToDo :  Como um template poderia ser usado para montar um esqueleto reaproveitado de pagina, similar aos templates do struts.</p>
			  </li></ul></div> 
		</div>
		

		<p>O Template no Crux é defino no arquivo <span class="emphasis"><em>.template.xml</em></span> que é um arquivo XML parametrizado. Ele pode ser colocado em
		qualquer lugar do classpath, até mesmo em um arquivo .jar. </p>
		
		<p>Os templates podem ser usados para:</p>
		
		<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			  	<p>Criar um fragmento que pode ser usado para compor páginas maiores.</p>
			</li><li class="listitem">
			  	<p>Criar um componete simples de maneira declarativa.</p>
			</li><li class="listitem">
			  	<p>Definir um layout de página reusável.</p>
			</li></ul></div>
		  
		
		<p>O código a seguir apresenta o exemplo de um template com um fragmento de uma página.
		O arquivo <span class="emphasis"><em>userinfo.template.xml</em></span> define um cabeçalho simples que exibe o login e o 
		nome do usuário.</p>
		
		<div class="example" id="viewTemplateUser"><div class="example-title">Example 5.5. userinfo.template.xml</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;t:template</font></b> <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">t</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font> 
	<font color="#009900">library</font>=<font color="#FF0000">"</font><font color="#FF0000">custom</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
	<b><font color="#0000FF">&lt;crux:styledPanel</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">panelUser</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;crux:formDisplay</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">formUser</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">Login:</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;gwt:label</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">lbLogin</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">user login</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">Name:</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;gwt:label</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">lbName</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">user name</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
		<b><font color="#0000FF">&lt;/crux:formDisplay&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:styledPanel&gt;</font></b>
<b><font color="#0000FF">&lt;/t:template&gt;</font></b></tt></pre>
			</pre>
		</div></div><br class="example-break"/>

		<p>Para usar um template, basta incluir na <span class="emphasis"><em>screen</em></span> (ou na <span class="emphasis"><em>view</em></span>) a referência 
		ao template, no caso a <code class="code"> &lt;c:userinfo /&gt; </code>. Assim, quando a página for montada para
		exibição, o template é adicionado. Veja o exemplo a seguir do uso do template:</p>

		<div class="example" id="viewScreeHello2"><div class="example-title">Example 5.6. index.crux.xml - versão 2</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;html</font></b> 
    <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
    <font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
    <font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
    <font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font>
    <font color="#009900">xmlns</font>:<font color="#009900">c</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates/custom</font><font color="#FF0000">"</font> <b><font color="#0000FF">&gt;</font></b>
    <b><font color="#0000FF">&lt;head&gt;</font></b> <b><font color="#0000FF">&lt;title&gt;</font></b>Exemplos CRUX<b><font color="#0000FF">&lt;/title&gt;</font></b> <b><font color="#0000FF">&lt;/head&gt;</font></b>
    <b><font color="#0000FF">&lt;body&gt;</font></b>
        <b><font color="#0000FF">&lt;script</font></b> <font color="#009900">type</font>=<font color="#FF0000">"</font><font color="#FF0000">text/javascript</font><font color="#FF0000">"</font> <font color="#009900">src</font>=<font color="#FF0000">"</font><font color="#FF0000">../exemploscrux/exemploscrux.nocache.js</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b><b><font color="#0000FF">&lt;/script&gt;</font></b>
        <b><font color="#0000FF">&lt;core:screen</font></b> <font color="#009900">useView</font>=<font color="#FF0000">"</font><font color="#FF0000">**/views/*</font><font color="#FF0000">"</font> 
            <font color="#009900">smallViewport</font>=<font color="#FF0000">"</font><font color="#FF0000">user-scalable=no, width=320</font><font color="#FF0000">"</font>
            <font color="#009900">largeViewport</font>=<font color="#FF0000">"</font><font color="#FF0000">user-scalable=no, width=device-width, height=device-height</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;c:userinfo</font></b> <b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;crux:horizontalSwapViewContainer</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">views</font><font color="#FF0000">"</font> <font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font> <font color="#009900">width</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
            <b><font color="#0000FF">&lt;crux:view</font></b> <font color="#009900">name</font>=<font color="#FF0000">"</font><font color="#FF0000">mainhello</font><font color="#FF0000">"</font> <font color="#009900">active</font>=<font color="#FF0000">"</font><font color="#FF0000">true</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;/crux:horizontalSwapViewContainer&gt;</font></b>
    <b><font color="#0000FF">&lt;/body&gt;</font></b>
<b><font color="#0000FF">&lt;/html&gt;</font></b></tt></pre>
			</pre>
		</div></div><br class="example-break"/>

		<section class="sect2" id="sec_view_template_parameter"><div class="titlepage"><div><div><h3 class="title">5.4.1. Parametrizando Templates</h3></div></div></div>
			
			
			<p>Um template pode para receber parametros (atributos) para exibir informações de acordo com o contexto onde será aplicado. 
			Para definir um atributo no template, basta escrever o atributo no formato <code class="code"> #{attributeName} </code>. 
			Neste ponto será feita a substituição da variável pelo valor correspondente.</p>
			
			<p>No exemplo a seguir é apresentada uma nova versão do <span class="emphasis"><em>userinfo.template.xml</em></span> agora com as 
			variáveis <code class="code">userLogin</code> e <code class="code">userName</code> que serão recebidas pelo template quando o mesmo for inserido e 
			não mais com valores fixos.</p>

			<div class="example" id="viewTemplateUser2"><div class="example-title">Example 5.7. userinfo.template.xml - versão 2</div><div class="example-contents">
			    
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;t:template</font></b> <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">t</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font> 
	<font color="#009900">library</font>=<font color="#FF0000">"</font><font color="#FF0000">custom</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
	<b><font color="#0000FF">&lt;crux:styledPanel</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">panelUser</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;crux:formDisplay</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">formUser</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">Login:</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;gwt:label</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">lbLogin</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">#{userLogin}</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">Name:</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;gwt:label</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">lbName</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">#{userName}</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
		<b><font color="#0000FF">&lt;/crux:formDisplay&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:styledPanel&gt;</font></b>
<b><font color="#0000FF">&lt;/t:template&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>
		
			<p>Para essa nova versão do template, na <span class="italic">screen</span> ao incluir o template 
			<span class="italic">userinfo</span> agora são passados como parâmetros os nomes e os valores para os 
			atributos do template.</p>
 
			<div class="example" id="viewScreeHello3"><div class="example-title">Example 5.8. index.crux.xml - versão 3</div><div class="example-contents">
				
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;html</font></b> 
    <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
    <font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
    <font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
    <font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font>
    <font color="#009900">xmlns</font>:<font color="#009900">c</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates/custom</font><font color="#FF0000">"</font> <b><font color="#0000FF">&gt;</font></b>
    <b><font color="#0000FF">&lt;head&gt;</font></b> <b><font color="#0000FF">&lt;title&gt;</font></b>Exemplos CRUX<b><font color="#0000FF">&lt;/title&gt;</font></b> <b><font color="#0000FF">&lt;/head&gt;</font></b>
    <b><font color="#0000FF">&lt;body&gt;</font></b>
        <b><font color="#0000FF">&lt;script</font></b> <font color="#009900">type</font>=<font color="#FF0000">"</font><font color="#FF0000">text/javascript</font><font color="#FF0000">"</font> <font color="#009900">src</font>=<font color="#FF0000">"</font><font color="#FF0000">../exemploscrux/exemploscrux.nocache.js</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b><b><font color="#0000FF">&lt;/script&gt;</font></b>
        <b><font color="#0000FF">&lt;core:screen</font></b> <font color="#009900">useView</font>=<font color="#FF0000">"</font><font color="#FF0000">**/views/*</font><font color="#FF0000">"</font> 
            <font color="#009900">smallViewport</font>=<font color="#FF0000">"</font><font color="#FF0000">user-scalable=no, width=320</font><font color="#FF0000">"</font>
            <font color="#009900">largeViewport</font>=<font color="#FF0000">"</font><font color="#FF0000">user-scalable=no, width=device-width, height=device-height</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;c:userinfo</font></b> <font color="#009900">userLogin</font>=<font color="#FF0000">"</font><font color="#FF0000">joao</font><font color="#FF0000">"</font> <font color="#009900">userName</font>=<font color="#FF0000">"</font><font color="#FF0000">João da Silva</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;crux:horizontalSwapViewContainer</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">views</font><font color="#FF0000">"</font> <font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font> <font color="#009900">width</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
            <b><font color="#0000FF">&lt;crux:view</font></b> <font color="#009900">name</font>=<font color="#FF0000">"</font><font color="#FF0000">mainhello</font><font color="#FF0000">"</font> <font color="#009900">active</font>=<font color="#FF0000">"</font><font color="#FF0000">true</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
        <b><font color="#0000FF">&lt;/crux:horizontalSwapViewContainer&gt;</font></b>
    <b><font color="#0000FF">&lt;/body&gt;</font></b>
<b><font color="#0000FF">&lt;/html&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>
			
			<p>Os valores dos atributos dos templates também podem ser manipulados por métodos da controller.</p>
			
		</section>

		
		<section class="sect2" id="sec_view_template_component"><div class="titlepage"><div><div><h3 class="title">5.4.2. Templates de Blocos</h3></div></div></div>
			

			<p>Uma aplicação para templates é definir um bloco de código para reuso, assim, estruturas que são usadas 
			regularmente podem ser definidas como se fossem um novo componente.  
			O exemplo a seguir é basicamente uma de caixa de texto com um label, que foi agrupada em um template. 
			Neste exemplo foi usado o recurso de parametrização dos elementos para deixar o componente mais flexivel.
			Veja o exemplo:</p>

			<div class="example" id="viewtemplateBloco"><div class="example-title">Example 5.9. entrytextbox.template.xml</div><div class="example-contents">
				
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;t:template</font></b> <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">t</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font> 
	<font color="#009900">library</font>=<font color="#FF0000">"</font><font color="#FF0000">custom</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
	<b><font color="#0000FF">&lt;crux:entry</font></b>  <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">#{label}:</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;gwt:textBox</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">#{id}</font><font color="#FF0000">"</font> <font color="#009900">value</font>=<font color="#FF0000">"</font><font color="#FF0000">#{value}</font><font color="#FF0000">"</font> <font color="#009900">width</font>=<font color="#FF0000">"</font><font color="#FF0000">200px</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
<b><font color="#0000FF">&lt;/t:template&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>

			<p> </p>
			
			<p>A utilização do template de bloco apresentado é da mesma maneira de um template personalizado. 
			Veja o exemplo a seguir do template em uma view do Crux:</p>

			<div class="example" id="viewviembloco"><div class="example-title">Example 5.10. textbox.view.xml</div><div class="example-contents">
				
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;v:view</font></b> 
	<font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">v</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/view</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">c</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates/custom</font><font color="#FF0000">"</font>
	<font color="#009900">useResource</font>=<font color="#FF0000">"</font><font color="#FF0000">xStandardResources</font><font color="#FF0000">"</font>
	<font color="#009900">useController</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController</font><font color="#FF0000">"</font> 
	<font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b> 
	<b><font color="#0000FF">&lt;crux:styledPanel</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">outerPanel</font><font color="#FF0000">"</font> <font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">200px</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;crux:formDisplay</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">form</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
			<b><font color="#0000FF">&lt;c:entrytextbox</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">nameTextBox</font><font color="#FF0000">"</font> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">What is your name?</font><font color="#FF0000">"</font> <font color="#009900">value</font>=<font color="#FF0000">"</font><font color="#FF0000">Your name here</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">horizontalAlignment</font>=<font color="#FF0000">"</font><font color="#FF0000">center</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;crux:button</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">okButton</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">Ok!</font><font color="#FF0000">"</font> <font color="#009900">onSelect</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController.sayHello</font><font color="#FF0000">"</font> 
				             <font color="#009900">style</font>=<font color="#FF0000">"</font><font color="#FF0000">display:block</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
		<b><font color="#0000FF">&lt;/crux:formDisplay&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:styledPanel&gt;</font></b>
<b><font color="#0000FF">&lt;/v:view&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>
			
			<p>Os tempaltes de blocos podem ser utilizados para quaisquer situações onde seja necessário o uso de estruturas
			mais "elaboradas" deixando o código da view mais simples.</p>

		</section>
		
		<section class="sect2" id="sec_view_template_layout"><div class="titlepage"><div><div><h3 class="title">5.4.3. Templates de Layouts</h3></div></div></div>
			
			
			<p>O arquivo <span class="emphasis"><em>pagelayout.template.xml</em></span> define um template de layout de pagina. 
			Neste layout é exibido um menu à esquerda e um espaço para ser inserido o corpo da página.</p>

			<div class="example" id="viewtemplatelayout"><div class="example-title">Example 5.11. pagelayout.template.xml</div><div class="example-contents">
				
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;v:view</font></b> 
	<font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">v</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/view</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">c</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates/custom</font><font color="#FF0000">"</font>
	<font color="#009900">useResource</font>=<font color="#FF0000">"</font><font color="#FF0000">xStandardResources</font><font color="#FF0000">"</font>
	<font color="#009900">useController</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController</font><font color="#FF0000">"</font> 
	<font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b> 
	<b><font color="#0000FF">&lt;crux:styledPanel</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">outerPanel</font><font color="#FF0000">"</font> <font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">200px</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;crux:formDisplay</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">form</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
			<b><font color="#0000FF">&lt;c:entrytextbox</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">nameTextBox</font><font color="#FF0000">"</font> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">What is your name?</font><font color="#FF0000">"</font> <font color="#009900">value</font>=<font color="#FF0000">"</font><font color="#FF0000">Your name here</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">horizontalAlignment</font>=<font color="#FF0000">"</font><font color="#FF0000">center</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;crux:button</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">okButton</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">Ok!</font><font color="#FF0000">"</font> <font color="#009900">onSelect</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController.sayHello</font><font color="#FF0000">"</font> 
				             <font color="#009900">style</font>=<font color="#FF0000">"</font><font color="#FF0000">display:block</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
		<b><font color="#0000FF">&lt;/crux:formDisplay&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:styledPanel&gt;</font></b>
<b><font color="#0000FF">&lt;/v:view&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>

			<pre class="programlisting">

&lt;t:template xmlns="http://www.w3.org/1999/xhtml"
      xmlns:t="http://www.cruxframework.org/templates" 
      xmlns:crux="http://www.cruxframework.org/crux/widgets"
      xmlns:gwt="http://www.cruxframework.org/crux/gwt" 
      xmlns:c="http://www.cruxframework.org/templates/custom" 
          library="custom"&gt;

   &lt;gwt:dockPanel id="centeringPanel" width="100%" height="100%"&gt;
      &lt;gwt:cell direction="north" height="70" verticalAlignment="top"&gt;
          &lt;c:userInfo /&gt;
      &lt;/gwt:cell&gt;
      &lt;gwt:cell direction="south"&gt;
         &lt;gwt:dockPanel id="menuTabsDividerPannel"&gt;
            &lt;gwt:cell direction="west"&gt;
               &lt;crux:stackMenu id="menu" onLoadWidget="#{onLoadMenu}" &gt;&lt;/crux:stackMenu&gt;
            &lt;/gwt:cell&gt;
            &lt;gwt:cell direction="east"&gt;
               &lt;t:section name="body" /&gt;
            &lt;/gwt:cell&gt;
         &lt;/gwt:dockPanel&gt;
      &lt;/gwt:cell&gt;
   &lt;/gwt:dockPanel&gt;
&lt;/t:template&gt;

			</pre>
			
			<p>Note que o template <span class="emphasis"><em>pageLayout.template.xml</em></span> também usou o <span class="emphasis"><em>userInfo.template.xml</em></span>, 
			definido anteriormente <a class="xref" href="ch05s04.xhtml#sec_view_template_parameter" title="5.4.1. Parametrizando Templates">Section 5.4.1, “Parametrizando Templates”</a> no seu cabeçalho.</p>
			
			<p>O template criado anteriomente pode ser usado para definir uma nova página Crux com o exemplo a seguir.</p>

			<div class="example" id="viewtemplatelayoutindex"><div class="example-title">Example 5.12. index.crux.xml</div><div class="example-contents">
				
				<pre class="programlisting">
		 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;html</font></b> <font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
      <font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
      <font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font> 
      <font color="#009900">xmlns</font>:<font color="#009900">c</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/templates/custom</font><font color="#FF0000">"</font> <b><font color="#0000FF">&gt;</font></b>
   <b><font color="#0000FF">&lt;head&gt;</font></b>
       <b><font color="#0000FF">&lt;script</font></b> <font color="#009900">language</font>=<font color="#FF0000">"</font><font color="#FF0000">javascript</font><font color="#FF0000">"</font> <font color="#009900">src</font>=<font color="#FF0000">"</font><font color="#FF0000">cruxtest/cruxtest.nocache.js</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b><b><font color="#0000FF">&lt;/script&gt;</font></b>
   <b><font color="#0000FF">&lt;/head&gt;</font></b>
   <b><font color="#0000FF">&lt;body&gt;</font></b>
      <b><font color="#0000FF">&lt;crux:screen</font></b> <font color="#009900">useController</font>=<font color="#FF0000">"</font><font color="#FF0000">myController</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
      <b><font color="#0000FF">&lt;c:pageLayout</font></b> <font color="#009900">onLoadMenu</font>=<font color="#FF0000">"</font><font color="#FF0000">myController.loadMenuItems</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
         <b><font color="#0000FF">&lt;c:body&gt;</font></b>
            <i><font color="#9A1900">&lt;!--</font></i><i><font color="#9A1900"> Body comes here </font></i><i><font color="#9A1900">--&gt;</font></i>
            <b><font color="#0000FF">&lt;gwt:label</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">test</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">Hello World!!</font><font color="#FF0000">"</font> <b><font color="#0000FF">/&gt;</font></b>
         <b><font color="#0000FF">&lt;/c:body&gt;</font></b>
      <b><font color="#0000FF">&lt;/c:pageLayout&gt;</font></b>
   <b><font color="#0000FF">&lt;/body&gt;</font></b>
<b><font color="#0000FF">&lt;/html&gt;</font></b></tt></pre>
				</pre>
			</div></div><br class="example-break"/>

			<pre class="programlisting">

&lt;html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:crux="http://www.cruxframework.org/crux" 
      xmlns:gwt="http://www.cruxframework.org/crux/gwt" 
      xmlns:c="http://www.cruxframework.org/templates/custom" &gt;
   &lt;head&gt;
       &lt;script language="javascript" src="cruxtest/cruxtest.nocache.js"&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;crux:screen useController="myController" /&gt;
      &lt;c:pageLayout onLoadMenu="myController.loadMenuItems"&gt;
         &lt;c:body&gt;
            &lt;!-- Body comes here --&gt;
            &lt;gwt:label id="test" text="Hello World!!" /&gt;
         &lt;/c:body&gt;
      &lt;/c:pageLayout&gt;
   &lt;/body&gt;
&lt;/html&gt;

			</pre>
			
		</section>
		
	</section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="ch05s03.xhtml">Prev</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="ch05.xhtml">Up</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch05s05.xhtml">Next</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">5.3. View </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="index.xhtml">Home</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> 5.5. Chamada de Eventos</td></tr></table></div></footer></body></html>