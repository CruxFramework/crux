<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>5.3. View</title><link rel="stylesheet" type="text/css" href="style.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"/><link rel="prev" href="ch05s02.xhtml" title="5.2. Screen"/><link rel="next" href="ch05s04.xhtml" title="5.4. Template"/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">5.3. View</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="ch05s02.xhtml">Prev</a> </td><th style="width: 60%; text-align: center; ">Chapter 5. Camada de Visão</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch05s04.xhtml">Next</a></td></tr></table><hr/></div></header><section class="sect1" id="sec_view_view"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.3. View</h2></div></div></div>
		
		
		<div class="note"><h3 class="title">Note</h3>
			<p> Aqui será inserido o seguinte conteúdo:</p>
			<div class="itemizedlist"><ul style="list-style-type: disc; " class="itemizedlist"><li class="listitem">
			    <p>ToDo :  Mais detalhes sobre os arquivos .view.xml. : viewName e viewID.</p>
			  </li><li class="listitem">
			    <p>ToDo :  O objeto View e como ele pode ser usado nas controllers para referenciar objetos na tela.</p>
			  </li><li class="listitem">
			    <p>ToDo :  Os atributos e eventos de uma view.</p>
			  </li><li class="listitem">
			    <p>ToDo :  Carga, ativacao e descarga de objetos view na aplicacao, assim como fragmentacao de scripts.</p>
			  </li><li class="listitem">
			    <p>ToDo :  O gerenciamento das views pelos view containers.</p>
			  </li></ul></div> 
		</div>		
		
		

		<p>A <span class="italic">View</span> no Crux é uma abstração para uma página. A view é definida nos arquivos 
		<span class="italic">.view.xml</span> que são arquivos XHTML. As views são carregadas dinâmicamente
		na screen de acordo com a navegação do usuário ou as ações da controller.</p>

		<p>O código a seguir apresenta uma <span class="italic">view</span> que contem um campo de entrada e um botão. 
		Essa é a <span class="italic">view</span> carregada pela <span class="italic">screen</span> da seção
		anterior. </p>
		
		<div class="example" id="viewViewHello"><div class="example-title">Example 5.3. mainhello.view.xml</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt><b><font color="#0000FF">&lt;v:view</font></b> 
	<font color="#009900">xmlns</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.w3.org/1999/xhtml</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">v</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/view</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">core</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux</font><font color="#FF0000">"</font> 
	<font color="#009900">xmlns</font>:<font color="#009900">crux</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/widgets</font><font color="#FF0000">"</font>
	<font color="#009900">xmlns</font>:<font color="#009900">gwt</font>=<font color="#FF0000">"</font><font color="#FF0000">http://www.cruxframework.org/crux/gwt</font><font color="#FF0000">"</font>
	<font color="#009900">useResource</font>=<font color="#FF0000">"</font><font color="#FF0000">xStandardResources</font><font color="#FF0000">"</font>
	<font color="#009900">useController</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController</font><font color="#FF0000">"</font> 
	<font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">100%</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b> 
	<b><font color="#0000FF">&lt;crux:styledPanel</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">outerPanel</font><font color="#FF0000">"</font> <font color="#009900">height</font>=<font color="#FF0000">"</font><font color="#FF0000">200px</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
		<b><font color="#0000FF">&lt;crux:formDisplay</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">form</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">label</font>=<font color="#FF0000">"</font><font color="#FF0000">What is your name?</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;gwt:textBox</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">nameTextBox</font><font color="#FF0000">"</font> <font color="#009900">width</font>=<font color="#FF0000">"</font><font color="#FF0000">200px</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
			<b><font color="#0000FF">&lt;crux:entry</font></b> <font color="#009900">horizontalAlignment</font>=<font color="#FF0000">"</font><font color="#FF0000">center</font><font color="#FF0000">"</font><b><font color="#0000FF">&gt;</font></b>
				<b><font color="#0000FF">&lt;crux:button</font></b> <font color="#009900">id</font>=<font color="#FF0000">"</font><font color="#FF0000">okButton</font><font color="#FF0000">"</font> <font color="#009900">text</font>=<font color="#FF0000">"</font><font color="#FF0000">Ok!</font><font color="#FF0000">"</font> <font color="#009900">onSelect</font>=<font color="#FF0000">"</font><font color="#FF0000">helloController.sayHello</font><font color="#FF0000">"</font> 
				             <font color="#009900">style</font>=<font color="#FF0000">"</font><font color="#FF0000">display:block</font><font color="#FF0000">"</font><b><font color="#0000FF">/&gt;</font></b>
			<b><font color="#0000FF">&lt;/crux:entry&gt;</font></b>
		<b><font color="#0000FF">&lt;/crux:formDisplay&gt;</font></b>
	<b><font color="#0000FF">&lt;/crux:styledPanel&gt;</font></b>
<b><font color="#0000FF">&lt;/v:view&gt;</font></b></tt></pre>
			</pre>
		</div></div><br class="example-break"/>
		
		<p>Além dos namespaces da screen a view ...</p>
		
		<p>Os compenentes Crux como o <span class="italic">crux:entry</span> encapsulam componetes GWT, e dependendo 
		do tamanho da tela podem, opde exemplo, apresentar o label do campo na frente ou acima do campo de texto. </p>
		
		<p>Os eventos da <span class="italic">view</span> também podem acionar métodos da <span class="italic">controller</span>.
		 No exmeplo anterior no <span class="italic">onSelect</span> do botão, é acionado o evento <span class="emphasis"><em>sayHello</em></span> da controller
		 <span class="italic">helloController</span>. O médodo <span class="italic">sayHello</span> irá manipular o valor do campo, 
		 e carregar uma nova <span class="italic">view</span>, a <span class="italic">messagehello</span>. Veja o método da 
		 <span class="italic">controller</span> a seguir:</p>
				
		<div class="example" id="viewControllerHello"><div class="example-title">Example 5.4. HelloController.java : sayHello</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt>@Expose
<b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">sayHello</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#FF0000">{</font>
	HorizontalSwapContainer views <font color="#990000">=</font> <font color="#990000">(</font>HorizontalSwapContainer<font color="#990000">)</font> Screen<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#FF0000">"views"</font><font color="#990000">)</font><font color="#990000">;</font>
	views<font color="#990000">.</font><b><font color="#000000">showView</font></b><font color="#990000">(</font><font color="#FF0000">"messagehello"</font><font color="#990000">)</font><font color="#990000">;</font>
	String name <font color="#990000">=</font> helloView<font color="#990000">.</font><b><font color="#000000">nameTextBox</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">.</font><b><font color="#000000">getValue</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
	name <font color="#990000">=</font> StringUtils<font color="#990000">.</font><b><font color="#000000">isEmpty</font></b><font color="#990000">(</font>name<font color="#990000">)</font> <font color="#990000">?</font> <font color="#FF0000">"Annonymous"</font> <font color="#990000">:</font> name<font color="#990000">;</font>
	messageView<font color="#990000">.</font><b><font color="#000000">messageLabel</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">.</font><b><font color="#000000">setText</font></b><font color="#990000">(</font><font color="#FF0000">"Hello, "</font> <font color="#990000">+</font> name <font color="#990000">+</font> <font color="#FF0000">"!"</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#FF0000">}</font>
</tt></pre>
			</pre>
		</div></div><br class="example-break"/>
		
		<p>No capítulo <a class="link" href="ch06.xhtml" title="Chapter 6. Camada de Controle">Camada de Controle</a> será apresentada 
		em detalhe a <span class="italic">controller</span>, seus os métodos e como ela pode 
		acessar os elementos da <span class="italic">view</span>. </p>

		<section class="sect2" id="sec_view_view_atrib"><div class="titlepage"><div><div><h3 class="title">5.3.1. Atributos da View</h3></div></div></div>
			
			
			<p>Alguns atributos da View:</p>

			<div class="table" id="d5e456"><div class="table-title">Table 5.3. Atributos da Screen</div><div class="table-contents">
				
				<table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col style="text-align: left; " class="c1"/><col style="text-align: left; " class="c2"/></colgroup><thead><tr><th style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">Atributo</th><th style="text-align: left; border-bottom: 0.5pt solid ; ">Descrição</th></tr></thead><tbody><tr><td style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">viewName</td><td style="text-align: left; border-bottom: 0.5pt solid ; ">O atributo viewName é o próprio nome da view, sem a extenção: <span class="italic">.view.xml</span>. 
							Esse atributo pode ser usado para referênviar a view pela Screen. </td></tr><tr><td style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">viewID</td><td style="text-align: left; border-bottom: 0.5pt solid ; ">O atributo viewID .	</td></tr><tr><td style="text-align: left; border-right: 0.5pt solid ; ">aaa</td><td style="text-align: left; ">Para ... </td></tr></tbody></table>
			</div></div><br class="table-break"/>
			
		</section>
		
		<section class="sect2" id="sec_view_view_event"><div class="titlepage"><div><div><h3 class="title">5.3.2. Eventos da View</h3></div></div></div>
			
			
			<p>Os eventos da view são:</p>
			
			<div class="table" id="d5e479"><div class="table-title">Table 5.4. Eventos da Screen</div><div class="table-contents">
				
				<table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col style="text-align: left; " class="c1"/><col style="text-align: left; " class="c2"/></colgroup><thead><tr><th style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> Evento </th><th style="text-align: left; border-bottom: 0.5pt solid ; "> Descrição </th></tr></thead><tbody><tr><td style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> Load </td><td style="text-align: left; border-bottom: 0.5pt solid ; ">Chamado quando a view é carregada .... </td></tr><tr><td style="text-align: left; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> Close </td><td style="text-align: left; border-bottom: 0.5pt solid ; "> Chamado ... </td></tr><tr><td style="text-align: left; border-right: 0.5pt solid ; "> Create </td><td style="text-align: left; "> Chamado ....</td></tr></tbody></table>
			</div></div><br class="table-break"/>

		</section>
		
	</section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="ch05s02.xhtml">Prev</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="ch05.xhtml">Up</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch05s04.xhtml">Next</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">5.2. Screen </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="index.xhtml">Home</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> 5.4. Template</td></tr></table></div></footer></body></html>