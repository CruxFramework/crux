<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>6.6. Validação</title><link rel="stylesheet" type="text/css" href="style.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"/><link rel="prev" href="ch06s05.xhtml" title="6.5. Comunicação entre controladores"/><link rel="next" href="ch06s07.xhtml" title="6.7. Chamada de Serviços RPC"/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">6.6. Validação</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="ch06s05.xhtml">Prev</a> </td><th style="width: 60%; text-align: center; ">Chapter 6. Camada de Controle</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch06s07.xhtml">Next</a></td></tr></table><hr/></div></header><section class="sect1" id="sec_control_val"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.6. Validação</h2></div></div></div>
		

		<p>O Crux suporta a declaração de método de validação para os tratamentos de eventos da <span class="italic">Controller</span>.
		O método de validação é chamado antes do método de tratamento. Se ele for executado sem problemas, o método de tratamento 
		então é executado. Se o método de validação lançar alguma execeção a execução é finalizada e é exeibida a mensagem
		de retorno para o usuário através do <span class="italic">Crux Error Handler</span>. </p>	
			
		<p>Para criar um método de validação para o tratamento de um evento, basta usar a anotação 
		<span class="italic">@Validate</span> no método de tratamento do evento, informado qual é o método
		de validação a ser usado. Veja o exemplo a seguir: </p>

		<div class="example" id="controllerValidation"><div class="example-title">Example 6.9. ControllerValidation.java</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt>@<b><font color="#000000">Controller</font></b><font color="#990000">(</font><font color="#FF0000">"clientHandler"</font><font color="#990000">)</font>
<b><font color="#0000FF">public</font></b> <b><font color="#0000FF">class</font></b> ControllerValidation <font color="#FF0000">{</font>
   @<b><font color="#000000">Validate</font></b><font color="#990000">(</font><font color="#FF0000">"myValidationMethod"</font><font color="#990000">)</font>
   @Expose
   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">onClose</font></b><font color="#990000">(</font>CloseEvent<font color="#990000">&lt;</font>Window<font color="#990000">&gt;</font> event<font color="#990000">)</font> <font color="#FF0000">{</font>
       <i><font color="#9A1900">//</font></i><i><font color="#9A1900"> code here   </font></i>
   <font color="#FF0000">}</font>
      
   <b><font color="#0000FF">protected</font></b> <font color="#009900">void</font> <b><font color="#000000">myValidationMethod</font></b><font color="#990000">(</font>CloseEvent<font color="#990000">&lt;</font>Window<font color="#990000">&gt;</font> event<font color="#990000">)</font> <b><font color="#0000FF">throws</font></b> ValidateException <font color="#FF0000">{</font>
       <i><font color="#9A1900">//</font></i><i><font color="#9A1900"> code here   </font></i>
   <font color="#FF0000">}</font>
<font color="#FF0000">}</font>
</tt></pre>
			</pre>
		</div></div><br class="example-break"/>

		<p>Se não for passado parâmetro para a anotação <span class="italic">@Validate</span>, o Crux 
		irá procutar por um metodo com o nome: "validate" + "NomeMétodoTratamento". Veja o exemplo:	</p>

		<div class="example" id="controllerValidationDefault"><div class="example-title">Example 6.10. ControllerValidation.java</div><div class="example-contents">
		    
			<pre class="programlisting">
	 			<!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite --><pre xmlns=""><tt>@<b><font color="#000000">Controller</font></b><font color="#990000">(</font><font color="#FF0000">"clientHandler"</font><font color="#990000">)</font>
<b><font color="#0000FF">public</font></b> <b><font color="#0000FF">class</font></b> ControllerValidation <font color="#FF0000">{</font>
   @Validate
   @Expose
   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">onClose</font></b><font color="#990000">(</font>CloseEvent<font color="#990000">&lt;</font>Window<font color="#990000">&gt;</font> event<font color="#990000">)</font> <font color="#FF0000">{</font>
       <i><font color="#9A1900">//</font></i><i><font color="#9A1900"> code here   </font></i>
   <font color="#FF0000">}</font>
      
   <b><font color="#0000FF">protected</font></b> <font color="#009900">void</font> <b><font color="#000000">validateOnClose</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000FF">throws</font></b> ValidateException <font color="#FF0000">{</font>
       <i><font color="#9A1900">//</font></i><i><font color="#9A1900"> code here   </font></i>
   <font color="#FF0000">}</font>
<font color="#FF0000">}</font>
</tt></pre>
			</pre>
		</div></div><br class="example-break"/>

		<p>Repare nos exemplos acima que os métodos de validação de eventos podem receber um parâmetro do tipo 
		do evento sendo tratado pelo método validado, caso seja necessário acessar alguma propriedade do evento durante a validação.</p>
	</section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="ch06s05.xhtml">Prev</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="ch06.xhtml">Up</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch06s07.xhtml">Next</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">6.5. Comunicação entre controladores </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="index.xhtml">Home</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> 6.7. Chamada de Serviços RPC</td></tr></table></div></footer></body></html>